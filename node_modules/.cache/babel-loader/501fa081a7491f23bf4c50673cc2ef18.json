{"remainingRequest":"/home/dani/Escritorio/ProyectoVue/vue-firebase/node_modules/babel-loader/lib/index.js!/home/dani/Escritorio/ProyectoVue/vue-firebase/node_modules/eslint-loader/index.js??ref--13-0!/home/dani/Escritorio/ProyectoVue/vue-firebase/src/router.js","dependencies":[{"path":"/home/dani/Escritorio/ProyectoVue/vue-firebase/src/router.js","mtime":1542738800000},{"path":"/home/dani/Escritorio/ProyectoVue/vue-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1552670006292},{"path":"/home/dani/Escritorio/ProyectoVue/vue-firebase/node_modules/babel-loader/lib/index.js","mtime":1552670006259},{"path":"/home/dani/Escritorio/ProyectoVue/vue-firebase/node_modules/eslint-loader/index.js","mtime":1552670006452}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport { auth } from '@/firebase';\nimport Home from './views/Home.vue';\nimport NotFound from './views/NotFound.vue';\nimport AccionesEmail from './views/usuario/AccionesEmail.vue';\nimport EnvioVerificacionEmail from './views/usuario/EnvioVerificacionEmail.vue';\nimport Login from './views/usuario/Login.vue';\nimport Registro from './views/usuario/Registro.vue';\nimport Perfil from './views/usuario/Perfil.vue';\nimport Obra from './views/teatro/Obra.vue';\nimport Presentacion from './views/teatro/Presentacion.vue';\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [{\n    path: '/',\n    name: 'home',\n    component: Home\n  }, {\n    path: '/sesion/login',\n    name: 'login',\n    component: Login\n  }, {\n    path: '/sesion/registro',\n    name: 'registro',\n    component: Registro\n  }, {\n    path: '/sesion/envio-verificacion-email',\n    name: 'envio-verificacion-email',\n    component: EnvioVerificacionEmail\n  }, {\n    path: '/sesion/acciones-email',\n    name: 'acciones-email',\n    component: AccionesEmail\n  }, {\n    path: '/usuario/perfil',\n    name: 'perfil',\n    component: Perfil,\n    meta: {\n      autenticado: true\n    }\n  }, {\n    path: '/obras/:oid',\n    name: 'obra',\n    component: Obra\n  }, {\n    path: '/:oid/:tid/:fecha',\n    name: 'presentacion',\n    component: Presentacion\n  }, {\n    path: '/404',\n    name: '404',\n    component: NotFound\n  }, {\n    path: '*',\n    component: NotFound\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var user = auth.currentUser;\n\n  if (to.matched.some(function (record) {\n    return record.meta.autenticado;\n  })) {\n    if (user) {\n      if (user.providerData[0].providerId == 'password' && !user.emailVerified) {\n        next({\n          name: 'envio-verificacion-email'\n        });\n      } else {\n        next();\n      }\n    } else {\n      next({\n        name: 'login'\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/home/dani/Escritorio/ProyectoVue/vue-firebase/src/router.js"],"names":["Vue","Router","auth","Home","NotFound","AccionesEmail","EnvioVerificacionEmail","Login","Registro","Perfil","Obra","Presentacion","use","router","mode","base","process","env","BASE_URL","routes","path","name","component","meta","autenticado","beforeEach","to","from","next","user","currentUser","matched","some","record","providerData","providerId","emailVerified"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport { auth } from '@/firebase'\n\nimport Home from './views/Home.vue'\nimport NotFound from './views/NotFound.vue'\n\nimport AccionesEmail from './views/usuario/AccionesEmail.vue'\nimport EnvioVerificacionEmail from './views/usuario/EnvioVerificacionEmail.vue'\nimport Login from './views/usuario/Login.vue'\nimport Registro from './views/usuario/Registro.vue'\nimport Perfil from './views/usuario/Perfil.vue'\n\nimport Obra from './views/teatro/Obra.vue'\nimport Presentacion from './views/teatro/Presentacion.vue'\n\n\nVue.use(Router)\n\nconst router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home\n    },\n    {\n      path: '/sesion/login',\n      name: 'login',\n      component: Login\n    },\n    {\n      path: '/sesion/registro',\n      name: 'registro',\n      component: Registro\n    },\n    {\n      path: '/sesion/envio-verificacion-email',\n      name: 'envio-verificacion-email',\n      component: EnvioVerificacionEmail\n    },\n    {\n      path: '/sesion/acciones-email',\n      name: 'acciones-email',\n      component: AccionesEmail\n    },\n    {\n      path: '/usuario/perfil',\n      name: 'perfil',\n      component: Perfil,\n      meta: {\n        autenticado: true\n      }\n    },\n    {\n      path: '/obras/:oid',\n      name: 'obra',\n      component: Obra\n    },\n    {\n      path: '/:oid/:tid/:fecha',\n      name: 'presentacion',\n      component: Presentacion\n    },\n    {\n      path: '/404',\n      name: '404',\n      component: NotFound\n    },\n    {\n      path:'*',\n      component: NotFound\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  let user = auth.currentUser\n\n  if(to.matched.some(record => record.meta.autenticado)) {\n    if(user) {\n      if(user.providerData[0].providerId == 'password' && !user.emailVerified) {\n        next({ name: 'envio-verificacion-email' })\n      }\n      else {\n        next()\n      }\n    }\n    else {\n      next({ name: 'login' })\n    }\n  }\n  else {\n    next()\n  }\n})\n\nexport default router"]}]}